<!DOCTYPE html>
<html>
<head>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <title>Send SMS</title>
    <meta charset="utf-8">
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body class="container">
    <h1>Send SMS</h1>
    
    <table>
        <!-- <tr>
         
        </tr> -->
        {% for modemPort in modemPorts %}
            <tr>
                <td>{{ modemPort }}</td>
                <td>{{ modemStatuses.get(modemPort, 'Unknown') }}</td>
            </tr>
        {% endfor %}
    </table>
    <h1>{{phone_numbers}}</h1>

    <form class="form-control" id="sms-form" method="POST" action="/">
        <label>Enter number:</label><br>
        <textarea name="phone_numbers" rows="4" cols="50" value="" required></textarea><br><br>

        <label>Enter message:</label><br>
        <input name="message" rows="4" cols="50" value="" required><br><br>
        <input class="btn" type="submit" value="Send">
    </form>

    <div class="wrapper__button">
      <form id="delTable" method="POST" action="/get">
        <input class="btn" type="submit" value="Скачать таблицу">
      </form>

      <form id="delTable" method="POST" action="/delete">
          <input class="btn" type="submit" value="Удалить таблицу">
      </form> 
    </div>
    <h1 id="result">{{delete_button}}</h1>


<table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Modem Port</th>
        <th>Phone Number</th>
        <th>Message</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for message in get_data %}
      <tr>
        <td>{{ message[0] }}</td>
        <td>{{ message[1] }}</td>
        <td>{{ message[2] }}</td>
        <td>{{ message[3] }}</td>
        <td>{{ message[4] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
